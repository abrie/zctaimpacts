import {
  MapContainer,
  TileLayer,
  Polygon,
  Circle,
  GeoJSON,
  useMapEvents,
} from "react-leaflet";
import { LatLngExpression } from "leaflet";

const center: LatLngExpression = [33.813534, -84.403339];
export default function App() {
  function handleMoveEnd(e: Event) {
    console.log(e);
  }
  function MyComponent() {
    const map = useMapEvents({
      dragend: () => {
        const bounds = map.getBounds();
        console.log(bounds);
      },
      click: () => {
        map.locate();
      },
      locationfound: (location) => {
        console.log("location found:", location);
      },
    });
    return null;
  }
  return (
    <MapContainer center={center} zoom={16} onMoveEnd={handleMoveEnd}>
      <TileLayer
        url="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"
        attribution='&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
      />
      <MyComponent />
      <Circle center={center} pathOptions={pathOptions} radius={200} />
      <GeoJSON data={obj} />
    </MapContainer>
  );
}

const pathOptions = { color: "green" };
const obj = {
  type: "Feature" as "Feature",
  geometry: {
    type: "Polygon" as "Polygon",
    coordinates: [
      [
        [-84.403339, 33.813534],
        [-84.402523, 33.813002],
        [-84.402126, 33.811998],
        [-84.401006, 33.811044],
        [-84.401301, 33.810702],
        [-84.403009, 33.810256],
        [-84.403069, 33.809959],
        [-84.40146, 33.806824],
        [-84.400634, 33.806163],
        [-84.40077, 33.80528],
        [-84.401321, 33.804634],
        [-84.401418, 33.804103],
        [-84.401103, 33.803193],
        [-84.401132, 33.802207],
        [-84.400518, 33.801745],
        [-84.400509, 33.801345],
        [-84.404187, 33.801968],
        [-84.406535, 33.799653],
        [-84.407843, 33.79871],
        [-84.407849, 33.796146],
        [-84.405551, 33.796144],
        [-84.405543, 33.794388],
        [-84.403511, 33.794725],
        [-84.399803, 33.794744],
        [-84.39979, 33.793601],
        [-84.395361, 33.797076],
        [-84.393023, 33.793422],
        [-84.392101, 33.79139],
        [-84.391463, 33.789546],
        [-84.391499, 33.786684],
        [-84.391142, 33.781533],
        [-84.391114, 33.777716],
        [-84.388779, 33.777802],
        [-84.388775, 33.778069],
        [-84.387291, 33.778021],
        [-84.387283, 33.778728],
        [-84.379714, 33.778228],
        [-84.379693, 33.77844],
        [-84.379064, 33.778391],
        [-84.379057, 33.778513],
        [-84.377064, 33.778391],
        [-84.377061, 33.778911],
        [-84.376495, 33.778904],
        [-84.376496, 33.778609],
        [-84.375859, 33.778613],
        [-84.375855, 33.778323],
        [-84.375443, 33.778321],
        [-84.37533, 33.778179],
        [-84.375232, 33.778884],
        [-84.373424, 33.778994],
        [-84.373343, 33.779482],
        [-84.369409, 33.779493],
        [-84.368686, 33.781739],
        [-84.372795, 33.781774],
        [-84.372878, 33.782705],
        [-84.373962, 33.78334],
        [-84.374803, 33.783558],
        [-84.377008, 33.783576],
        [-84.377886, 33.784146],
        [-84.377473, 33.784351],
        [-84.377191, 33.784772],
        [-84.377417, 33.785654],
        [-84.377356, 33.786252],
        [-84.377651, 33.786514],
        [-84.377236, 33.786645],
        [-84.376609, 33.787649],
        [-84.375787, 33.78801],
        [-84.374865, 33.78787],
        [-84.372378, 33.789904],
        [-84.372367, 33.790335],
        [-84.372654, 33.790731],
        [-84.374239, 33.791631],
        [-84.372767, 33.793219],
        [-84.372038, 33.793187],
        [-84.37067, 33.793719],
        [-84.370281, 33.79366],
        [-84.370929, 33.79541],
        [-84.374213, 33.801086],
        [-84.372304, 33.80184],
        [-84.372806, 33.801711],
        [-84.372979, 33.802007],
        [-84.373183, 33.801925],
        [-84.375237, 33.805533],
        [-84.376019, 33.805494],
        [-84.376444, 33.805115],
        [-84.377283, 33.806595],
        [-84.377654, 33.809427],
        [-84.377468, 33.810261],
        [-84.376972, 33.811128],
        [-84.377066, 33.81138],
        [-84.378325, 33.809598],
        [-84.381015, 33.807283],
        [-84.385362, 33.804209],
        [-84.385935, 33.804858],
        [-84.386394, 33.80611],
        [-84.386129, 33.807929],
        [-84.384071, 33.809819],
        [-84.382893, 33.810602],
        [-84.38261, 33.81146],
        [-84.382241, 33.811846],
        [-84.381563, 33.81212],
        [-84.381279, 33.812521],
        [-84.381284, 33.812947],
        [-84.382085, 33.812916],
        [-84.382503, 33.813412],
        [-84.383416, 33.813498],
        [-84.385735, 33.812946],
        [-84.386634, 33.812444],
        [-84.387488, 33.812474],
        [-84.388335, 33.813679],
        [-84.390041, 33.814557],
        [-84.39027, 33.814849],
        [-84.390149, 33.815282],
        [-84.388542, 33.816868],
        [-84.388565, 33.817383],
        [-84.390579, 33.818286],
        [-84.393653, 33.818801],
        [-84.394068, 33.818718],
        [-84.394675, 33.818293],
        [-84.396438, 33.81609],
        [-84.397145, 33.815883],
        [-84.398657, 33.815881],
        [-84.399706, 33.81569],
        [-84.400671, 33.815756],
        [-84.401514, 33.816141],
        [-84.402959, 33.818461],
        [-84.403608, 33.817365],
        [-84.404681, 33.816505],
        [-84.403339, 33.813534],
      ],
    ],
  },
  properties: {
    ZCTA5CE20: "30309",
    GEOID20: "30309",
    CLASSFP20: "B5",
    MTFCC20: "G6350",
    FUNCSTAT20: "S",
    ALAND20: 8569774,
    AWATER20: 52647,
    INTPTLAT20: "+33.7975983",
    INTPTLON20: "-084.3876426",
  },
};
